<div class="card-toolbar">
    <mat-menu #itemMenu="matMenu">
        <button mat-menu-item matTooltip="{{mitems.desc}}" *ngFor="let mitems of MenuTools">{{mitems.title}}</button>
    </mat-menu>

    <mat-menu #actionMenu="matMenu">
        <button mat-menu-item matTooltip="{{mitems.desc}}" *ngFor="let mitems of ActionBtn">{{mitems.title}}</button>
    </mat-menu>

    <mat-menu restoreFocus="true" #columnsMenu="matMenu">
        <li *ngFor="let item of btnCheckboxCol" mat-menu-item role="menuitemcheckbox" 
            class="">
            <mat-checkbox [(ngModel)]="item.checked" (ngModelChange)="setTableColumns(item)">{{item.tbcolumn}}</mat-checkbox>
        </li>
    </mat-menu>

    <button mat-button class="first-child" [matMenuTriggerFor]="itemMenu">
        <mat-icon>more_vert</mat-icon>
        Menu
        <mat-icon>arrow_drop_down</mat-icon>
    </button>
            
    <button mat-button [matMenuTriggerFor]="actionMenu">
        <mat-icon>menu</mat-icon>
        Actions
        <mat-icon>arrow_drop_down</mat-icon>
    </button>

    <button mat-button>
        <mat-icon>add</mat-icon>
        Add Item
    </button>

    <button mat-button>
        <mat-icon>filter_list</mat-icon>
        Filters
    </button>

    <button mat-button [matMenuTriggerFor]="columnsMenu">
        <mat-icon>view_week</mat-icon>
        Columns
    </button>

    <button mat-button>
        <i class="fa fa-tags" aria-hidden="true"></i>
        Tags
        <mat-icon>arrow_drop_down</mat-icon>
    </button>
</div>

<div class="card-extra-toolbar">
    <mat-form-field>
    <span class="card-table-search-icon" mat-button matPrefix mat-icon-button aria-label="Search" (click)="value=''">
        <mat-icon>search</mat-icon>
    </span>
    <input matInput [(ngModel)]="value" (keyup)="applyFilter($event.target.value)" placeholder="Search..">
    <button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
        <mat-icon>close</mat-icon>
    </button>
    </mat-form-field>
</div>

<div class="card-table mat-elevation-z8">
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    <table mat-table [dataSource]="dataSource" matSort >
    
    <!-- Checkbox Column -->
    <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
        <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()"
                        [aria-label]="checkboxLabel()">
        </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
        <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)"
                        [aria-label]="checkboxLabel(row)">
        </mat-checkbox>
        </td>
    </ng-container>

    <!-- Image Column -->
    <ng-container matColumnDef="photos">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
        <td class="td-image" mat-cell *matCellDef="let el"> <img title="{{el.photos.title}}" 
        src="{{el.photos.main}}" class="rounded float-left" alt="...">
        </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <!-- sku Column -->
    <ng-container matColumnDef="sku">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> SKU </th>
        <td mat-cell *matCellDef="let element"> {{element.sku}} </td>
    </ng-container>

    <!-- barcode Column -->
    <ng-container matColumnDef="barcode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Barcode </th>
        <td mat-cell *matCellDef="let element"> {{element.barcode | number: '12.0'}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>